{{#*inline "page"}}
	<div id="content" class="container">
		<div class="col-sm-10">
			<div id="board" class="panel panel-default">
				<table class="table table-condensed">
				</table>
			</div>
		</div>
	</div>

	<footer id="post" class="footer mt-auto py-3 bg-light fixed-bottom">
		<div class="container">
			<div id="feedback"></div>
			<form id="post-form" name="post-form">
				<input type="hidden" id="login" name="login" value="Anonyme">
				<div class="form-group">
					<label class="visually-hidden" for="message">Message</label>
					<div class="input-group">
						<div class="input-group-text">Anonyme</div>
						<input type="text" class="form-control" id="message" name="message" placeholder="Entrez votre message ici">
						<span class="input-group-btn">
							<button type="submit" class="btn btn-primary" id="send">
								<span class="bi-send-fill" aria-hidden="true"></span>
							</button>
						</span>
					</div>
				</div>
			</form>
		</div>
	</footer>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script src="/res/js/board.js"></script>
	<script>
		$(document).ready(function() {
			loadBoard();

			$("#post-form").submit(function() {
				console.log("Submitting the form...");
				$.ajax({
					url     : "/post",
					data    : $('#post-form').serialize(),
					type    : "POST",
					dataType: "text"
				}).done(function(p_response) {
					updateBoard();
				}).fail(function(p_response, p_status, p_message) {
					showWarningFeedback("<strong>Erreur&nbsp;:</strong> " + p_message);
				});
				console.log("POST request sent.");
				return false;
			});
			setInterval(updateBoard, 8000);
		});
	</script>
{{/inline}}
{{~> (parent)~}}
